{"ast":null,"code":"import { Validators } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"../../services/job.service\";\nimport * as i3 from \"@angular/common\";\nfunction JobScraperComponent_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 18);\n    i0.ɵɵtext(1, \" Please enter a valid URL \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction JobScraperComponent_span_20_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\");\n    i0.ɵɵtext(1, \"Scrape and Check\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction JobScraperComponent_span_21_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"span\", 19);\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(1, \"svg\", 20);\n    i0.ɵɵelement(2, \"circle\", 21)(3, \"path\", 22);\n    i0.ɵɵelementEnd();\n    i0.ɵɵtext(4, \" Processing... \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction JobScraperComponent_div_22_div_1_div_9_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 39)(1, \"h4\", 40);\n    i0.ɵɵtext(2, \"Company Profile\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 41);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r8 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r8.jobResult.job.companyProfile);\n  }\n}\nfunction JobScraperComponent_div_22_div_1_div_10_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 39)(1, \"h4\", 40);\n    i0.ɵɵtext(2, \"Description\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 41);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r9 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r9.jobResult.job.description);\n  }\n}\nfunction JobScraperComponent_div_22_div_1_div_11_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 39)(1, \"h4\", 40);\n    i0.ɵɵtext(2, \"Requirements\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 41);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r10 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r10.jobResult.job.requirements);\n  }\n}\nfunction JobScraperComponent_div_22_div_1_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 39)(1, \"h4\", 40);\n    i0.ɵɵtext(2, \"Benefits\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 41);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r11 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r11.jobResult.job.benefits);\n  }\n}\nfunction JobScraperComponent_div_22_div_1_div_14_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h4\", 42);\n    i0.ɵɵtext(2, \"Industry\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 31);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r12 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r12.jobResult.job.industry);\n  }\n}\nfunction JobScraperComponent_div_22_div_1_div_15_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h4\", 42);\n    i0.ɵɵtext(2, \"Employment Type\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 31);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r13 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r13.jobResult.job.employmentType);\n  }\n}\nfunction JobScraperComponent_div_22_div_1_div_16_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h4\", 42);\n    i0.ɵɵtext(2, \"Experience\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 31);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r14 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate1(\"\", ctx_r14.jobResult.job.requiredExperience, \" years\");\n  }\n}\nfunction JobScraperComponent_div_22_div_1_div_17_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\")(1, \"h4\", 42);\n    i0.ɵɵtext(2, \"Education\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"p\", 31);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r15 = i0.ɵɵnextContext(3);\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(ctx_r15.jobResult.job.requiredEducation);\n  }\n}\nfunction JobScraperComponent_div_22_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 33)(1, \"h2\", 34);\n    i0.ɵɵtext(2, \"Scraped Job Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 35)(4, \"div\")(5, \"h3\", 36);\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"p\", 4);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(9, JobScraperComponent_div_22_div_1_div_9_Template, 5, 1, \"div\", 37);\n    i0.ɵɵtemplate(10, JobScraperComponent_div_22_div_1_div_10_Template, 5, 1, \"div\", 37);\n    i0.ɵɵtemplate(11, JobScraperComponent_div_22_div_1_div_11_Template, 5, 1, \"div\", 37);\n    i0.ɵɵtemplate(12, JobScraperComponent_div_22_div_1_div_12_Template, 5, 1, \"div\", 37);\n    i0.ɵɵelementStart(13, \"div\", 38);\n    i0.ɵɵtemplate(14, JobScraperComponent_div_22_div_1_div_14_Template, 5, 1, \"div\", 15);\n    i0.ɵɵtemplate(15, JobScraperComponent_div_22_div_1_div_15_Template, 5, 1, \"div\", 15);\n    i0.ɵɵtemplate(16, JobScraperComponent_div_22_div_1_div_16_Template, 5, 1, \"div\", 15);\n    i0.ɵɵtemplate(17, JobScraperComponent_div_22_div_1_div_17_Template, 5, 1, \"div\", 15);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const ctx_r4 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(6);\n    i0.ɵɵtextInterpolate(ctx_r4.jobResult.job.title);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(ctx_r4.jobResult.job.location);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.jobResult.job.companyProfile);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.jobResult.job.description);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.jobResult.job.requirements);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.jobResult.job.benefits);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.jobResult.job.industry);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.jobResult.job.employmentType);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.jobResult.job.requiredExperience);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r4.jobResult.job.requiredEducation);\n  }\n}\nfunction JobScraperComponent_div_22__svg_svg_5_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 43);\n    i0.ɵɵelement(1, \"path\", 44);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction JobScraperComponent_div_22__svg_svg_6_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵnamespaceSVG();\n    i0.ɵɵelementStart(0, \"svg\", 45);\n    i0.ɵɵelement(1, \"path\", 46);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction JobScraperComponent_div_22_div_12_div_4_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 51)(1, \"div\", 52);\n    i0.ɵɵtext(2, \"\\u2022\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 41);\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const detail_r17 = ctx.$implicit;\n    i0.ɵɵadvance(4);\n    i0.ɵɵtextInterpolate(detail_r17);\n  }\n}\nfunction JobScraperComponent_div_22_div_12_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 47)(1, \"h3\", 48);\n    i0.ɵɵtext(2, \"Analysis Details\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\", 49);\n    i0.ɵɵtemplate(4, JobScraperComponent_div_22_div_12_div_4_Template, 5, 1, \"div\", 50);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r7 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(4);\n    i0.ɵɵproperty(\"ngForOf\", ctx_r7.jobResult.details);\n  }\n}\nconst _c0 = function (a0, a1) {\n  return {\n    \"bg-green-100 dark:bg-green-900\": a0,\n    \"bg-red-100 dark:bg-red-900\": a1\n  };\n};\nconst _c1 = function (a0, a1) {\n  return {\n    \"bg-green-50 dark:bg-green-900/20\": a0,\n    \"bg-red-50 dark:bg-red-900/20\": a1\n  };\n};\nfunction JobScraperComponent_div_22_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 23);\n    i0.ɵɵtemplate(1, JobScraperComponent_div_22_div_1_Template, 18, 10, \"div\", 24);\n    i0.ɵɵelementStart(2, \"div\", 5)(3, \"div\", 25)(4, \"div\", 26);\n    i0.ɵɵtemplate(5, JobScraperComponent_div_22__svg_svg_5_Template, 2, 0, \"svg\", 27);\n    i0.ɵɵtemplate(6, JobScraperComponent_div_22__svg_svg_6_Template, 2, 0, \"svg\", 28);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"h2\", 29);\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(9, \"div\", 30)(10, \"p\", 31);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵtemplate(12, JobScraperComponent_div_22_div_12_Template, 5, 1, \"div\", 32);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const ctx_r3 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.jobResult.job);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(8, _c0, !ctx_r3.jobResult.isFake, ctx_r3.jobResult.isFake));\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r3.jobResult.isFake);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.jobResult.isFake);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.jobResult.isFake ? \"Potential Fake Job Detected\" : \"Job Appears Legitimate\", \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction2(11, _c1, !ctx_r3.jobResult.isFake, ctx_r3.jobResult.isFake));\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate1(\" \", ctx_r3.jobResult.message, \" \");\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r3.jobResult.details);\n  }\n}\nconst _c2 = function (a0) {\n  return {\n    \"border-red-500\": a0\n  };\n};\nexport class JobScraperComponent {\n  constructor(fb, jobService) {\n    this.fb = fb;\n    this.jobService = jobService;\n    this.isSubmitting = false;\n    this.jobResult = null;\n    this.scraperForm = this.fb.group({\n      url: ['', [Validators.required, Validators.pattern('https?://.+')]]\n    });\n  }\n  ngOnInit() {}\n  onSubmit() {\n    if (this.scraperForm.invalid) {\n      Object.keys(this.scraperForm.controls).forEach(key => {\n        const control = this.scraperForm.get(key);\n        control?.markAsTouched();\n      });\n      return;\n    }\n    this.isSubmitting = true;\n    this.jobResult = null;\n    // Call the service to scrape and check the job\n    this.jobService.scrapeJobs(this.scraperForm.value.url).subscribe({\n      next: response => {\n        this.isSubmitting = false;\n        this.jobResult = {\n          isFake: response.isFake,\n          message: response.message,\n          details: response.details,\n          job: response.job\n        };\n      },\n      error: error => {\n        this.isSubmitting = false;\n        console.error('Error scraping job:', error);\n        // Show error message to user\n        this.jobResult = {\n          isFake: true,\n          message: 'An error occurred while scraping the job. Please try again later.'\n        };\n      }\n    });\n  }\n  isFieldInvalid(fieldName) {\n    const control = this.scraperForm.get(fieldName);\n    return !!control && control.invalid && (control.dirty || control.touched);\n  }\n  static {\n    this.ɵfac = function JobScraperComponent_Factory(t) {\n      return new (t || JobScraperComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.JobService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: JobScraperComponent,\n      selectors: [[\"app-job-scraper\"]],\n      decls: 23,\n      vars: 9,\n      consts: [[1, \"container\", \"mx-auto\", \"px-4\", \"py-8\"], [1, \"max-w-4xl\", \"mx-auto\"], [1, \"mb-8\"], [1, \"text-3xl\", \"font-bold\", \"text-gray-900\", \"dark:text-white\", \"mb-2\"], [1, \"text-gray-600\", \"dark:text-gray-300\"], [1, \"card\"], [3, \"formGroup\", \"ngSubmit\"], [1, \"mb-6\"], [\"for\", \"url\", 1, \"form-label\"], [1, \"text-red-500\"], [\"type\", \"url\", \"id\", \"url\", \"formControlName\", \"url\", \"placeholder\", \"https://example.com/job-posting\", 1, \"form-input\", 3, \"ngClass\"], [\"class\", \"mt-1 text-sm text-red-500\", 4, \"ngIf\"], [1, \"mt-2\", \"text-sm\", \"text-gray-500\", \"dark:text-gray-400\"], [1, \"flex\", \"justify-end\"], [\"type\", \"submit\", 1, \"btn\", \"btn-primary\", 3, \"disabled\"], [4, \"ngIf\"], [\"class\", \"flex items-center\", 4, \"ngIf\"], [\"class\", \"mt-8\", 4, \"ngIf\"], [1, \"mt-1\", \"text-sm\", \"text-red-500\"], [1, \"flex\", \"items-center\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"fill\", \"none\", \"viewBox\", \"0 0 24 24\", 1, \"animate-spin\", \"-ml-1\", \"mr-2\", \"h-4\", \"w-4\", \"text-white\"], [\"cx\", \"12\", \"cy\", \"12\", \"r\", \"10\", \"stroke\", \"currentColor\", \"stroke-width\", \"4\", 1, \"opacity-25\"], [\"fill\", \"currentColor\", \"d\", \"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\", 1, \"opacity-75\"], [1, \"mt-8\"], [\"class\", \"card mb-6\", 4, \"ngIf\"], [1, \"flex\", \"items-center\", \"mb-4\"], [1, \"p-3\", \"rounded-full\", \"mr-4\", 3, \"ngClass\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"class\", \"h-6 w-6 text-green-600 dark:text-green-300\", \"fill\", \"none\", \"viewBox\", \"0 0 24 24\", \"stroke\", \"currentColor\", 4, \"ngIf\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"class\", \"h-6 w-6 text-red-600 dark:text-red-300\", \"fill\", \"none\", \"viewBox\", \"0 0 24 24\", \"stroke\", \"currentColor\", 4, \"ngIf\"], [1, \"text-xl\", \"font-semibold\", \"text-gray-800\", \"dark:text-white\"], [1, \"p-4\", \"mb-4\", \"rounded-lg\", 3, \"ngClass\"], [1, \"text-gray-800\", \"dark:text-gray-200\"], [\"class\", \"mt-6\", 4, \"ngIf\"], [1, \"card\", \"mb-6\"], [1, \"text-xl\", \"font-semibold\", \"mb-6\", \"text-gray-800\", \"dark:text-white\"], [1, \"space-y-4\"], [1, \"text-lg\", \"font-medium\", \"text-gray-800\", \"dark:text-white\"], [\"class\", \"border-t border-gray-200 dark:border-gray-700 pt-4\", 4, \"ngIf\"], [1, \"border-t\", \"border-gray-200\", \"dark:border-gray-700\", \"pt-4\", \"grid\", \"grid-cols-2\", \"gap-4\"], [1, \"border-t\", \"border-gray-200\", \"dark:border-gray-700\", \"pt-4\"], [1, \"text-md\", \"font-medium\", \"mb-2\", \"text-gray-800\", \"dark:text-white\"], [1, \"text-gray-700\", \"dark:text-gray-300\"], [1, \"text-sm\", \"font-medium\", \"mb-1\", \"text-gray-600\", \"dark:text-gray-400\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"fill\", \"none\", \"viewBox\", \"0 0 24 24\", \"stroke\", \"currentColor\", 1, \"h-6\", \"w-6\", \"text-green-600\", \"dark:text-green-300\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M5 13l4 4L19 7\"], [\"xmlns\", \"http://www.w3.org/2000/svg\", \"fill\", \"none\", \"viewBox\", \"0 0 24 24\", \"stroke\", \"currentColor\", 1, \"h-6\", \"w-6\", \"text-red-600\", \"dark:text-red-300\"], [\"stroke-linecap\", \"round\", \"stroke-linejoin\", \"round\", \"stroke-width\", \"2\", \"d\", \"M6 18L18 6M6 6l12 12\"], [1, \"mt-6\"], [1, \"text-lg\", \"font-medium\", \"mb-3\", \"text-gray-800\", \"dark:text-white\"], [1, \"space-y-2\"], [\"class\", \"flex\", 4, \"ngFor\", \"ngForOf\"], [1, \"flex\"], [1, \"mr-2\", \"text-gray-500\", \"dark:text-gray-400\"]],\n      template: function JobScraperComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"div\", 2)(3, \"h1\", 3);\n          i0.ɵɵtext(4, \"Job Scraper\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(5, \"p\", 4);\n          i0.ɵɵtext(6, \"Scrape job details from a URL and check if it's legitimate.\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(7, \"div\", 5)(8, \"form\", 6);\n          i0.ɵɵlistener(\"ngSubmit\", function JobScraperComponent_Template_form_ngSubmit_8_listener() {\n            return ctx.onSubmit();\n          });\n          i0.ɵɵelementStart(9, \"div\", 7)(10, \"label\", 8);\n          i0.ɵɵtext(11, \"Job Posting URL \");\n          i0.ɵɵelementStart(12, \"span\", 9);\n          i0.ɵɵtext(13, \"*\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelement(14, \"input\", 10);\n          i0.ɵɵtemplate(15, JobScraperComponent_div_15_Template, 2, 0, \"div\", 11);\n          i0.ɵɵelementStart(16, \"p\", 12);\n          i0.ɵɵtext(17, \" Enter the URL of a job posting to scrape and analyze its details. \");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(18, \"div\", 13)(19, \"button\", 14);\n          i0.ɵɵtemplate(20, JobScraperComponent_span_20_Template, 2, 0, \"span\", 15);\n          i0.ɵɵtemplate(21, JobScraperComponent_span_21_Template, 5, 0, \"span\", 16);\n          i0.ɵɵelementEnd()()()();\n          i0.ɵɵtemplate(22, JobScraperComponent_div_22_Template, 13, 14, \"div\", 17);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"formGroup\", ctx.scraperForm);\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"ngClass\", i0.ɵɵpureFunction1(7, _c2, ctx.isFieldInvalid(\"url\")));\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isFieldInvalid(\"url\"));\n          i0.ɵɵadvance(4);\n          i0.ɵɵproperty(\"disabled\", ctx.scraperForm.invalid || ctx.isSubmitting);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", !ctx.isSubmitting);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.isSubmitting);\n          i0.ɵɵadvance(1);\n          i0.ɵɵproperty(\"ngIf\", ctx.jobResult);\n        }\n      },\n      dependencies: [i3.NgClass, i3.NgForOf, i3.NgIf, i1.ɵNgNoValidate, i1.DefaultValueAccessor, i1.NgControlStatus, i1.NgControlStatusGroup, i1.FormGroupDirective, i1.FormControlName],\n      styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJqb2Itc2NyYXBlci5jb21wb25lbnQuY3NzIn0= */\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvcGFnZXMvam9iLXNjcmFwZXIvam9iLXNjcmFwZXIuY29tcG9uZW50LmNzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiO0FBQ0Esd0tBQXdLIiwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n}","map":{"version":3,"mappings":"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","names":["Validators","i0","JobScraperComponent","constructor","fb","jobService","scraperForm","group","url","required","pattern","ngOnInit","onSubmit","invalid","Object","keys","controls","forEach","key","control","get","markAsTouched","isSubmitting","jobResult","scrapeJobs","value","subscribe","next","response","isFake","message","details","job","error","console","isFieldInvalid","fieldName","dirty","touched","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["/home/yassine/Images/emna/job-checker-app/src/app/pages/job-scraper/job-scraper.component.ts","/home/yassine/Images/emna/job-checker-app/src/app/pages/job-scraper/job-scraper.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { JobService } from '../../services/job.service';\nimport { Job } from '../../models/job.model';\n\ninterface JobScraperResult {\n  isFake: boolean;\n  message: string;\n  details?: string[];\n  job?: Job;\n}\n\n@Component({\n  selector: 'app-job-scraper',\n  templateUrl: './job-scraper.component.html',\n  styleUrls: ['./job-scraper.component.css']\n})\nexport class JobScraperComponent implements OnInit {\n  scraperForm: FormGroup;\n  isSubmitting = false;\n  jobResult: JobScraperResult | null = null;\n\n  constructor(\n    private fb: FormBuilder,\n    private jobService: JobService\n  ) {\n    this.scraperForm = this.fb.group({\n      url: ['', [Validators.required, Validators.pattern('https?://.+')]]\n    });\n  }\n\n  ngOnInit(): void {\n  }\n\n  onSubmit(): void {\n    if (this.scraperForm.invalid) {\n      Object.keys(this.scraperForm.controls).forEach(key => {\n        const control = this.scraperForm.get(key);\n        control?.markAsTouched();\n      });\n      return;\n    }\n\n    this.isSubmitting = true;\n    this.jobResult = null;\n\n    // Call the service to scrape and check the job\n    this.jobService.scrapeJobs(this.scraperForm.value.url).subscribe({\n      next: (response: {isFake: boolean, message: string, details?: string[], job?: Job}) => {\n        this.isSubmitting = false;\n        this.jobResult = {\n          isFake: response.isFake,\n          message: response.message,\n          details: response.details,\n          job: response.job\n        };\n      },\n      error: (error: any) => {\n        this.isSubmitting = false;\n        console.error('Error scraping job:', error);\n        // Show error message to user\n        this.jobResult = {\n          isFake: true,\n          message: 'An error occurred while scraping the job. Please try again later.'\n        };\n      }\n    });\n  }\n\n  isFieldInvalid(fieldName: string): boolean {\n    const control = this.scraperForm.get(fieldName);\n    return !!control && control.invalid && (control.dirty || control.touched);\n  }\n}\n","<div class=\"container mx-auto px-4 py-8\">\n  <div class=\"max-w-4xl mx-auto\">\n    <div class=\"mb-8\">\n      <h1 class=\"text-3xl font-bold text-gray-900 dark:text-white mb-2\">Job Scraper</h1>\n      <p class=\"text-gray-600 dark:text-gray-300\">Scrape job details from a URL and check if it's legitimate.</p>\n    </div>\n    \n    <div class=\"card\">\n      <form [formGroup]=\"scraperForm\" (ngSubmit)=\"onSubmit()\">\n        <div class=\"mb-6\">\n          <label for=\"url\" class=\"form-label\">Job Posting URL <span class=\"text-red-500\">*</span></label>\n          <input \n            type=\"url\" \n            id=\"url\" \n            formControlName=\"url\" \n            class=\"form-input\" \n            placeholder=\"https://example.com/job-posting\"\n            [ngClass]=\"{'border-red-500': isFieldInvalid('url')}\"\n          >\n          <div *ngIf=\"isFieldInvalid('url')\" class=\"mt-1 text-sm text-red-500\">\n            Please enter a valid URL\n          </div>\n          <p class=\"mt-2 text-sm text-gray-500 dark:text-gray-400\">\n            Enter the URL of a job posting to scrape and analyze its details.\n          </p>\n        </div>\n        \n        <div class=\"flex justify-end\">\n          <button \n            type=\"submit\" \n            class=\"btn btn-primary\"\n            [disabled]=\"scraperForm.invalid || isSubmitting\"\n          >\n            <span *ngIf=\"!isSubmitting\">Scrape and Check</span>\n            <span *ngIf=\"isSubmitting\" class=\"flex items-center\">\n              <svg class=\"animate-spin -ml-1 mr-2 h-4 w-4 text-white\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\">\n                <circle class=\"opacity-25\" cx=\"12\" cy=\"12\" r=\"10\" stroke=\"currentColor\" stroke-width=\"4\"></circle>\n                <path class=\"opacity-75\" fill=\"currentColor\" d=\"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z\"></path>\n              </svg>\n              Processing...\n            </span>\n          </button>\n        </div>\n      </form>\n    </div>\n    \n    <!-- Results Section (will be shown after submission) -->\n    <div *ngIf=\"jobResult\" class=\"mt-8\">\n      <!-- Job Details Card -->\n      <div *ngIf=\"jobResult.job\" class=\"card mb-6\">\n        <h2 class=\"text-xl font-semibold mb-6 text-gray-800 dark:text-white\">Scraped Job Details</h2>\n        \n        <div class=\"space-y-4\">\n          <div>\n            <h3 class=\"text-lg font-medium text-gray-800 dark:text-white\">{{ jobResult.job.title }}</h3>\n            <p class=\"text-gray-600 dark:text-gray-300\">{{ jobResult.job.location }}</p>\n          </div>\n          \n          <div *ngIf=\"jobResult.job.companyProfile\" class=\"border-t border-gray-200 dark:border-gray-700 pt-4\">\n            <h4 class=\"text-md font-medium mb-2 text-gray-800 dark:text-white\">Company Profile</h4>\n            <p class=\"text-gray-700 dark:text-gray-300\">{{ jobResult.job.companyProfile }}</p>\n          </div>\n          \n          <div *ngIf=\"jobResult.job.description\" class=\"border-t border-gray-200 dark:border-gray-700 pt-4\">\n            <h4 class=\"text-md font-medium mb-2 text-gray-800 dark:text-white\">Description</h4>\n            <p class=\"text-gray-700 dark:text-gray-300\">{{ jobResult.job.description }}</p>\n          </div>\n          \n          <div *ngIf=\"jobResult.job.requirements\" class=\"border-t border-gray-200 dark:border-gray-700 pt-4\">\n            <h4 class=\"text-md font-medium mb-2 text-gray-800 dark:text-white\">Requirements</h4>\n            <p class=\"text-gray-700 dark:text-gray-300\">{{ jobResult.job.requirements }}</p>\n          </div>\n          \n          <div *ngIf=\"jobResult.job.benefits\" class=\"border-t border-gray-200 dark:border-gray-700 pt-4\">\n            <h4 class=\"text-md font-medium mb-2 text-gray-800 dark:text-white\">Benefits</h4>\n            <p class=\"text-gray-700 dark:text-gray-300\">{{ jobResult.job.benefits }}</p>\n          </div>\n          \n          <div class=\"border-t border-gray-200 dark:border-gray-700 pt-4 grid grid-cols-2 gap-4\">\n            <div *ngIf=\"jobResult.job.industry\">\n              <h4 class=\"text-sm font-medium mb-1 text-gray-600 dark:text-gray-400\">Industry</h4>\n              <p class=\"text-gray-800 dark:text-gray-200\">{{ jobResult.job.industry }}</p>\n            </div>\n            \n            <div *ngIf=\"jobResult.job.employmentType\">\n              <h4 class=\"text-sm font-medium mb-1 text-gray-600 dark:text-gray-400\">Employment Type</h4>\n              <p class=\"text-gray-800 dark:text-gray-200\">{{ jobResult.job.employmentType }}</p>\n            </div>\n            \n            <div *ngIf=\"jobResult.job.requiredExperience\">\n              <h4 class=\"text-sm font-medium mb-1 text-gray-600 dark:text-gray-400\">Experience</h4>\n              <p class=\"text-gray-800 dark:text-gray-200\">{{ jobResult.job.requiredExperience }} years</p>\n            </div>\n            \n            <div *ngIf=\"jobResult.job.requiredEducation\">\n              <h4 class=\"text-sm font-medium mb-1 text-gray-600 dark:text-gray-400\">Education</h4>\n              <p class=\"text-gray-800 dark:text-gray-200\">{{ jobResult.job.requiredEducation }}</p>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <!-- Analysis Result Card -->\n      <div class=\"card\">\n        <div class=\"flex items-center mb-4\">\n          <div [ngClass]=\"{'bg-green-100 dark:bg-green-900': !jobResult.isFake, 'bg-red-100 dark:bg-red-900': jobResult.isFake}\" class=\"p-3 rounded-full mr-4\">\n            <svg *ngIf=\"!jobResult.isFake\" xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6 text-green-600 dark:text-green-300\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M5 13l4 4L19 7\" />\n            </svg>\n            <svg *ngIf=\"jobResult.isFake\" xmlns=\"http://www.w3.org/2000/svg\" class=\"h-6 w-6 text-red-600 dark:text-red-300\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n              <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M6 18L18 6M6 6l12 12\" />\n            </svg>\n          </div>\n          <h2 class=\"text-xl font-semibold text-gray-800 dark:text-white\">\n            {{ jobResult.isFake ? 'Potential Fake Job Detected' : 'Job Appears Legitimate' }}\n          </h2>\n        </div>\n        \n        <div class=\"p-4 mb-4 rounded-lg\" [ngClass]=\"{'bg-green-50 dark:bg-green-900/20': !jobResult.isFake, 'bg-red-50 dark:bg-red-900/20': jobResult.isFake}\">\n          <p class=\"text-gray-800 dark:text-gray-200\">\n            {{ jobResult.message }}\n          </p>\n        </div>\n        \n        <div *ngIf=\"jobResult.details\" class=\"mt-6\">\n          <h3 class=\"text-lg font-medium mb-3 text-gray-800 dark:text-white\">Analysis Details</h3>\n          <div class=\"space-y-2\">\n            <div *ngFor=\"let detail of jobResult.details\" class=\"flex\">\n              <div class=\"mr-2 text-gray-500 dark:text-gray-400\">•</div>\n              <div class=\"text-gray-700 dark:text-gray-300\">{{ detail }}</div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}